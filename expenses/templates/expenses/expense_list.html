{% extends "base.html" %}
{% load materializecss %}
{% block title %}
    لیست خرج ها
{% endblock title %}
{% block content %}
    {% include 'components/search.html' with app_name='expenses' %}
    <form action="{% url 'expenses:search' %}" method="GET">
        <div class="input-field">
            <p style="display: flex;">
              <input type="text" name="q" placeholder="جستجو" value="{{ request.GET.q }}">
              <button
              type="submit"
              class="search-btn btn waves-effect blue"
              ><i class="fa fa-search"></i></button>
            </p>
        </div>
    </form>
    <ul class="collapsible white black-text amount-text">
        {% for object in object_list %}
            <li>
                <div class="collapsible-header">{{ object.text }}</div>
                <div class="collapsible-body">
                    <span>{{ object.amount }}</span>
                    <br />
                    <small>{{ object.date }}</small>
                    <br />
                    <div class="action-wrapper">
                        <a href=" {% url 'expenses:update' object.pk %} "
                           class="btn waves-effect blue">ویرایش</a>
                        <a href=" {% url 'expenses:delete' object.pk %} "
                           class="btn waves-effect blue">حذف</a>
                    </div>
                </div>
            </li>
        {% empty %}
            <p>
               خرجی یافت نشد
            </p>
        {% endfor %}
    </ul>
    <div class="fixed-action-btn">
        <a class="btn-floating btn-large black plus-btn"
           href="{% url 'expenses:create' %}">
            <i class="large fas fa-plus"></i>
        </a>
    </div>

{% endblock content %}
